INFO:     Started server process [3064]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
INFO:     13.234.183.138:54256 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  1.11it/s]100%|██████████| 1/1 [00:00<00:00,  1.11it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date', flag: True, dist_x: 2307.0, dist_y: 959.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.01it/s]100%|██████████| 1/1 [00:00<00:00,  3.01it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1655, 1950, 1892],
                                'buyer_name': [807, 1474, 1771, 1655],
                                'invoice_amount': [3435, 2565, 3750, 2631],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [784, 999, 1231, 1058],
                                'supplier_name': [970, 1069, 1513, 1126]},
                       'words': {'buyer_address': 'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': '-DECATHLON SPORTS INDIA PVT LTD :Satyabrata. das '
                                               'Decathlon SPORTS INDIA PVT LTD',
                                 'invoice_amount': '128,531.40',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': 'S9AABCW6386P1ZB',
                                 'supplier_name': 'BUSINESS SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2098, 1531, 3438, 1786]},
                   'words': {'shipping_address': 'Address -<Satyabrata. das Decathlon SPORTS '
                                                 'INDIA PVT LTD Survey Number- 78/10, A2, '
                                                 'Bellary R Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:54256 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56490 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.03it/s]100%|██████████| 1/1 [00:00<00:00,  3.03it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date', flag: True, dist_x: 2307.0, dist_y: 959.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.98it/s]100%|██████████| 1/1 [00:00<00:00,  2.98it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1655, 1950, 1892],
                                'buyer_name': [807, 1474, 1771, 1655],
                                'invoice_amount': [3435, 2565, 3750, 2631],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [784, 999, 1231, 1058],
                                'supplier_name': [970, 1069, 1513, 1126]},
                       'words': {'buyer_address': 'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': '-DECATHLON SPORTS INDIA PVT LTD :Satyabrata. das '
                                               'Decathlon SPORTS INDIA PVT LTD',
                                 'invoice_amount': '128,531.40',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': 'S9AABCW6386P1ZB',
                                 'supplier_name': 'BUSINESS SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2098, 1531, 3438, 1786]},
                   'words': {'shipping_address': 'Address -<Satyabrata. das Decathlon SPORTS '
                                                 'INDIA PVT LTD Survey Number- 78/10, A2, '
                                                 'Bellary R Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:56490 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:59032 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 15.5
    dist_y: 1017.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1535, 1950, 1892],
                                'buyer_name': [808, 1474, 1771, 1530],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [736, 999, 1231, 1061],
                                'supplier_name': [1252, 1069, 1513, 1126]},
                       'words': {'buyer_address': ':Satyabrata. das  Decathlon SPORTS INDIA PVT LTD  '
                                                  'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben  : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': ':-DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': ':2 9AABCW6386P1ZB',
                                 'supplier_name': 'SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2434, 1722, 3438, 1786]},
                   'words': {'shipping_address': 'Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:59032 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:38898 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:38898 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51832 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51832 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42152 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:42152 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42380 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:42380 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4eb207c170> returned a result with an error set
INFO:     13.234.183.138:43682 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 15.5
    dist_y: 1017.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.98it/s]100%|██████████| 1/1 [00:00<00:00,  2.98it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1535, 1950, 1892],
                                'buyer_name': [808, 1474, 1771, 1530],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [736, 999, 1231, 1061],
                                'supplier_name': [1252, 1069, 1513, 1126]},
                       'words': {'buyer_address': ':Satyabrata. das  Decathlon SPORTS INDIA PVT LTD  '
                                                  'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben  : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': ':-DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': ':2 9AABCW6386P1ZB',
                                 'supplier_name': 'SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2434, 1722, 3438, 1786]},
                   'words': {'shipping_address': 'Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:43682 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:47528 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220409',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:47528 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48068 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 556.5
    dist_y: 1120.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.52it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [488, 2160, 757, 2252],
                                'buyer_name': [717, 1881, 1821, 1974],
                                'invoice_date': [3279, 1884, 3646, 2136],
                                'supplier_address': [503, 1083, 1889, 1169],
                                'supplier_email': [726, 1169, 1382, 1242],
                                'supplier_gstin': [798, 1340, 1318, 1413],
                                'supplier_name': [514, 873, 1603, 1030],
                                'supplier_phone': [838, 1256, 1313, 1328]},
                       'words': {'buyer_address': 'Wagholi',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '25 26/01/2020',
                                 'supplier_address': 'Gat no 1214,maher sanstha,awhalwadi,pune '
                                                     '-412207',
                                 'supplier_email': 'dswirenail@qmail.com',
                                 'supplier_gstin': '27AAOFD7693N1ZF',
                                 'supplier_name': 'DS WIRE NAIL',
                                 'supplier_phone': '+91-9049829410'}}
ic| pred_out_all: {'bbox': {'shipping_address': [3297, 2160, 3566, 2328],
                            'supplier_email': [726, 1169, 1382, 1242],
                            'supplier_phone': [838, 1256, 1313, 1328],
                            'total_igst': [3623, 3791, 3900, 3867]},
                   'words': {'shipping_address': 'Wagholi 27',
                             'supplier_email': 'dswirenail@qmail.com',
                             'supplier_phone': '+91-9049829410',
                             'total_igst': '53984.00'}}
INFO:     13.234.183.138:48068 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48204 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.53it/s]100%|██████████| 1/1 [00:00<00:00,  3.52it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.52it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'bank_details': [729, 3833, 2485, 4365],
                                'buyer_address': [726, 1801, 1151, 1869],
                                'buyer_name': [1206, 1642, 1921, 1721],
                                'invoice_amount': [3445, 3179, 3725, 3251],
                                'invoice_date': [3400, 1721, 3684, 1800],
                                'invoice_number': [3398, 1639, 3627, 1718],
                                'supplier_address': [2239, 695, 3474, 774],
                                'supplier_email': [2475, 786, 3120, 865],
                                'supplier_name': [2244, 598, 3359, 672]},
                       'words': {'bank_details': 'In Favour of Dristhi Facility Private Limited Bank '
                                                 '& Branch Name HDFC,BANER ROAD,PUNE Account Number '
                                                 '50200030151187  IFSC Code HDFCO0001794  Type '
                                                 'CURRENT  PAN: AAGCD5746F',
                                 'buyer_address': 'CAR Warehouse',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_amount': '21417.00',
                                 'invoice_date': '31/5/2020',
                                 'invoice_number': '4/20/KA',
                                 'supplier_address': 'Sharada Residency, 1st Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtitd@gmail.com',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2475, 786, 3120, 865],
                            'supplier_phone': [2455, 881, 2989, 947],
                            'total_cgst': [2484, 3178, 2726, 3251],
                            'total_sgst': [3043, 3178, 3285, 3251],
                            'total_taxable': [3445, 3179, 3725, 3251]},
                   'words': {'supplier_email': 'dristhipvtitd@gmail.com',
                             'supplier_phone': 'No:+91-7044514369',
                             'total_cgst': '1633.50',
                             'total_sgst': '1633.50',
                             'total_taxable': '21417.00'}}
INFO:     13.234.183.138:48204 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51494 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.18it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.18it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51494 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51688 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51688 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:53776 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.14it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:53776 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:54442 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:54442 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:57846 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:57846 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:59782 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:59782 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:60314 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:60314 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:37902 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 15.5
    dist_y: 1017.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1535, 1950, 1892],
                                'buyer_name': [808, 1474, 1771, 1530],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [736, 999, 1231, 1061],
                                'supplier_name': [1252, 1069, 1513, 1126]},
                       'words': {'buyer_address': ':Satyabrata. das  Decathlon SPORTS INDIA PVT LTD  '
                                                  'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben  : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': ':-DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': ':2 9AABCW6386P1ZB',
                                 'supplier_name': 'SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2434, 1722, 3438, 1786]},
                   'words': {'shipping_address': 'Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:37902 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:39070 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.05it/s]100%|██████████| 1/1 [00:00<00:00,  3.05it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date', flag: True, dist_x: 2307.0, dist_y: 959.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1655, 1950, 1892],
                                'buyer_name': [807, 1474, 1771, 1655],
                                'invoice_amount': [3435, 2565, 3750, 2631],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [784, 999, 1231, 1058],
                                'supplier_name': [970, 1069, 1513, 1126]},
                       'words': {'buyer_address': 'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': '-DECATHLON SPORTS INDIA PVT LTD :Satyabrata. das '
                                               'Decathlon SPORTS INDIA PVT LTD',
                                 'invoice_amount': '128,531.40',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': 'S9AABCW6386P1ZB',
                                 'supplier_name': 'BUSINESS SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2098, 1531, 3438, 1786]},
                   'words': {'shipping_address': 'Address -<Satyabrata. das Decathlon SPORTS '
                                                 'INDIA PVT LTD Survey Number- 78/10, A2, '
                                                 'Bellary R Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:39070 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:40620 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:40620 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42156 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:42156 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:43046 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 225.0
    dist_y: 985.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2871, 3813, 3746, 4240],
                                'buyer_address': [488, 2098, 1364, 2516],
                                'buyer_gstin': [708, 2521, 1258, 2595],
                                'buyer_name': [494, 2010, 1480, 2096],
                                'invoice_amount': [3454, 3620, 3859, 3724],
                                'invoice_date': [2721, 1497, 3048, 1570],
                                'invoice_number': [2725, 1410, 3062, 1483],
                                'supplier_address': [493, 1488, 1504, 1657],
                                'supplier_name': [494, 1401, 1166, 1476]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_gstin': '33AAACL9861H1ZD',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_amount': '262',
                                 'invoice_date': '31.05.2020',
                                 'invoice_number': 'NE-06-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Complex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1919, 5337, 2822, 5439],
                            'supplier_phone': [1159, 5338, 1601, 5427],
                            'total_taxable': [3454, 3620, 3859, 3724]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034',
                             'total_taxable': '262'}}
INFO:     13.234.183.138:43046 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:43642 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 29.5
    dist_y: 729.5
ic| label: 'S-supplier_gstin'
    flag: True
    dist_x: 1352.0
    dist_y: 4594.0
ic| label: 'S-bank_details', flag: True, dist_x: 1914.5, dist_y: 1.5
ic| label: 'S-invoice_date', flag: True, dist_x: 3198.5, dist_y: 791.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:43642 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea86fd8f0> returned a result with an error set
INFO:     13.234.183.138:43794 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:43794 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:43844 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 29.5
    dist_y: 729.5
ic| label: 'S-supplier_gstin'
    flag: True
    dist_x: 1352.0
    dist_y: 4594.0
ic| label: 'S-bank_details', flag: True, dist_x: 1914.5, dist_y: 1.5
ic| label: 'S-invoice_date', flag: True, dist_x: 3198.5, dist_y: 791.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:43844 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea8721df0> returned a result with an error set
INFO:     13.234.183.138:46368 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.45it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.39it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:46368 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48800 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.42it/s]100%|██████████| 1/1 [00:00<00:00,  3.42it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 29.5
    dist_y: 729.5
ic| label: 'S-supplier_gstin'
    flag: True
    dist_x: 1352.0
    dist_y: 4594.0
ic| label: 'S-bank_details', flag: True, dist_x: 1914.5, dist_y: 1.5
ic| label: 'S-invoice_date', flag: True, dist_x: 3198.5, dist_y: 791.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:48800 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea8725f80> returned a result with an error set
INFO:     13.234.183.138:52452 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.09it/s]100%|██████████| 1/1 [00:00<00:00,  3.09it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220409',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:52452 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:52492 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 29.5
    dist_y: 729.5
ic| label: 'S-invoice_date', flag: True, dist_x: 3198.5, dist_y: 791.5
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 285.0
    dist_y: 731.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:52492 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4eb207b8a0> returned a result with an error set
INFO:     13.234.183.138:36010 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.11it/s]100%|██████████| 1/1 [00:00<00:00,  3.10it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:36010 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:37360 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]100%|██████████| 1/1 [00:00<00:00,  3.37it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 29.5
    dist_y: 729.5
ic| label: 'S-invoice_date', flag: True, dist_x: 3198.5, dist_y: 791.5
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 285.0
    dist_y: 731.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:37360 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4eb206d300> returned a result with an error set
INFO:     13.234.183.138:39752 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.06it/s]100%|██████████| 1/1 [00:00<00:00,  3.06it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.06it/s]100%|██████████| 1/1 [00:00<00:00,  3.06it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:39752 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:40026 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]100%|██████████| 1/1 [00:00<00:00,  3.18it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:40026 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42494 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]100%|██████████| 1/1 [00:00<00:00,  3.20it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.06it/s]100%|██████████| 1/1 [00:00<00:00,  3.05it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220408',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:42494 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:44004 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:44004 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4eb207b850> returned a result with an error set
INFO:     13.234.183.138:44296 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.47it/s]100%|██████████| 1/1 [00:00<00:00,  3.47it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.46it/s]100%|██████████| 1/1 [00:00<00:00,  3.46it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:44296 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea87653f0> returned a result with an error set
INFO:     13.234.183.138:54634 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.20it/s]100%|██████████| 1/1 [00:00<00:00,  3.20it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [641, 1797, 1554, 1917],
                                'buyer_name': [641, 1714, 1252, 1777],
                                'invoice_date': [177, 100, 431, 166],
                                'invoice_number': [535, 1346, 841, 1401],
                                'pan_number': [1796, 1006, 2124, 1068],
                                'supplier_address': [1388, 586, 3543, 933],
                                'supplier_gstin': [1748, 944, 2211, 1005],
                                'supplier_name': [1775, 525, 2553, 591]},
                       'words': {'buyer_address': 'No. 78/10, A2, Chikkajala Village, Bellary Road, '
                                                  'Bangalore-Karnataka 562157',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '8/26/2021',
                                 'invoice_number': 'AKA19-220409',
                                 'pan_number': 'AAACQ5169M',
                                 'supplier_address': 'No. 915, Essae Pride, 3rd Floor, 80 Feet ‘ '
                                                     'Road, 6th Block, No. 915, Essae Pride, 3rd '
                                                     'Floor, 80 Feet Road, 6th Kormmangala, '
                                                     'Bangalore, Kametake- S600 Block, Koramangala, '
                                                     '68 Bangalore,Karnataka-560068 '
                                                     'Phone:080-40453535',
                                 'supplier_gstin': '29AAACQ5169M1ZT',
                                 'supplier_name': 'Qodenext India Private Limited'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:54634 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:34672 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'bank_details': [1633, 4373, 2014, 4444],
                                'buyer_address': [663, 1761, 1422, 1831],
                                'buyer_name': [1153, 1603, 1886, 1683],
                                'invoice_date': [3393, 1687, 3684, 1767],
                                'invoice_number': [3393, 1604, 3561, 1683],
                                'pan_number': [1584, 4557, 1990, 4627],
                                'supplier_address': [2208, 651, 3473, 731],
                                'supplier_email': [2450, 742, 3111, 824],
                                'supplier_name': [2213, 554, 3355, 631]},
                       'words': {'bank_details': 'DFCO0001794',
                                 'buyer_address': 'CAC1 and CAC2 Warehouses',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_date': '31/1/2020',
                                 'invoice_number': '74/19',
                                 'pan_number': 'AAGCD5746F',
                                 'supplier_address': 'Sharada Residency, ist Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtltd@gmail.com',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2450, 742, 3111, 824],
                            'supplier_phone': [2209, 838, 2976, 906],
                            'total_cgst': [3043, 2903, 3258, 2975],
                            'total_igst': [3459, 2904, 3707, 2976],
                            'total_taxable': [3045, 2716, 3708, 2976]},
                   'words': {'supplier_email': 'dristhipvtltd@gmail.com',
                             'supplier_phone': 'Contact No:+91-7044514369',
                             'total_cgst': '450.00',
                             'total_igst': '5900.00',
                             'total_taxable': '540.00 7080.00 450.00 5900.00'}}
INFO:     13.234.183.138:34672 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:41422 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]100%|██████████| 1/1 [00:00<00:00,  3.48it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:41422 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea8701bc0> returned a result with an error set
INFO:     13.234.183.138:43538 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.08it/s]100%|██████████| 1/1 [00:00<00:00,  3.08it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:43538 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48268 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.48it/s]100%|██████████| 1/1 [00:00<00:00,  3.48it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:48268 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea86d99e0> returned a result with an error set
INFO:     13.234.183.138:48494 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:48494 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:50156 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:50156 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51582 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:51582 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:52934 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:52934 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:53792 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.52it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.51it/s]100%|██████████| 1/1 [00:00<00:00,  3.50it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:53792 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea8700f30> returned a result with an error set
INFO:     13.234.183.138:54542 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:54542 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56076 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:56076 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56348 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.32it/s]100%|██████████| 1/1 [00:00<00:00,  3.32it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.45it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'bank_details': [729, 3833, 2485, 4365],
                                'buyer_address': [726, 1801, 1151, 1869],
                                'buyer_name': [1206, 1642, 1921, 1721],
                                'invoice_amount': [3445, 3179, 3725, 3251],
                                'invoice_date': [3400, 1721, 3684, 1800],
                                'invoice_number': [3398, 1639, 3627, 1718],
                                'supplier_address': [2239, 695, 3474, 774],
                                'supplier_email': [2475, 786, 3120, 865],
                                'supplier_name': [2244, 598, 3359, 672]},
                       'words': {'bank_details': 'In Favour of Dristhi Facility Private Limited Bank '
                                                 '& Branch Name HDFC,BANER ROAD,PUNE Account Number '
                                                 '50200030151187  IFSC Code HDFCO0001794  Type '
                                                 'CURRENT  PAN: AAGCD5746F',
                                 'buyer_address': 'CAR Warehouse',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_amount': '21417.00',
                                 'invoice_date': '31/5/2020',
                                 'invoice_number': '4/20/KA',
                                 'supplier_address': 'Sharada Residency, 1st Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtitd@gmail.com',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2475, 786, 3120, 865],
                            'supplier_phone': [2455, 881, 2989, 947],
                            'total_cgst': [2484, 3178, 2726, 3251],
                            'total_sgst': [3043, 3178, 3285, 3251],
                            'total_taxable': [3445, 3179, 3725, 3251]},
                   'words': {'supplier_email': 'dristhipvtitd@gmail.com',
                             'supplier_phone': 'No:+91-7044514369',
                             'total_cgst': '1633.50',
                             'total_sgst': '1633.50',
                             'total_taxable': '21417.00'}}
INFO:     13.234.183.138:56348 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56920 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:56920 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56984 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.22it/s]100%|██████████| 1/1 [00:00<00:00,  2.22it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:56984 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4eb20943f0> returned a result with an error set
INFO:     13.234.183.138:32852 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.13it/s]100%|██████████| 1/1 [00:00<00:00,  3.12it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:32852 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:32886 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:32886 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:34238 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:34238 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:35572 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:35572 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:37654 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:37654 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:39258 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:39258 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42094 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.43it/s]100%|██████████| 1/1 [00:00<00:00,  3.42it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [671, 1769, 1139, 1842],
                                'buyer_name': [1165, 1616, 1897, 1692],
                                'invoice_date': [3403, 1722, 3694, 1801],
                                'invoice_number': [3405, 1637, 3571, 1717],
                                'supplier_address': [2229, 672, 3493, 760],
                                'supplier_email': [2469, 767, 3130, 851],
                                'supplier_gstin': [2401, 1047, 3021, 1119],
                                'supplier_name': [2235, 570, 3376, 660]},
                       'words': {'buyer_address': 'CAC1 Warehouse',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_date': '31/1/2020',
                                 'invoice_number': '75/19',
                                 'supplier_address': 'Sharada Residency, 1st Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtitd@gmail.com',
                                 'supplier_gstin': 'No:29AAGCD5746F1ZG',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2469, 767, 3130, 851],
                            'supplier_phone': [2449, 862, 2994, 933],
                            'total_cgst': [3057, 3171, 3236, 3242],
                            'total_sgst': [3043, 3025, 3256, 3099],
                            'total_taxable': [3473, 3175, 3685, 3247]},
                   'words': {'supplier_email': 'dristhipvtitd@gmail.com',
                             'supplier_phone': 'No:+91-7044514369',
                             'total_cgst': '45.00',
                             'total_sgst': '396.00',
                             'total_taxable': '590.00'}}
INFO:     13.234.183.138:42094 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42618 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.39it/s]100%|██████████| 1/1 [00:00<00:00,  3.39it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'bank_details': [1633, 4373, 2014, 4444],
                                'buyer_address': [663, 1761, 1422, 1831],
                                'buyer_name': [1153, 1603, 1886, 1683],
                                'invoice_date': [3393, 1687, 3684, 1767],
                                'invoice_number': [3393, 1604, 3561, 1683],
                                'pan_number': [1584, 4557, 1990, 4627],
                                'supplier_address': [2208, 651, 3473, 731],
                                'supplier_email': [2450, 742, 3111, 824],
                                'supplier_name': [2213, 554, 3355, 631]},
                       'words': {'bank_details': 'DFCO0001794',
                                 'buyer_address': 'CAC1 and CAC2 Warehouses',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_date': '31/1/2020',
                                 'invoice_number': '74/19',
                                 'pan_number': 'AAGCD5746F',
                                 'supplier_address': 'Sharada Residency, ist Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtltd@gmail.com',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2450, 742, 3111, 824],
                            'supplier_phone': [2209, 838, 2976, 906],
                            'total_cgst': [3043, 2903, 3258, 2975],
                            'total_igst': [3459, 2904, 3707, 2976],
                            'total_taxable': [3045, 2716, 3708, 2976]},
                   'words': {'supplier_email': 'dristhipvtltd@gmail.com',
                             'supplier_phone': 'Contact No:+91-7044514369',
                             'total_cgst': '450.00',
                             'total_igst': '5900.00',
                             'total_taxable': '540.00 7080.00 450.00 5900.00'}}
INFO:     13.234.183.138:42618 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:44350 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:44350 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:46266 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.32it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:46266 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:47034 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.25it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:47034 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:47254 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:47254 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:47562 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 225.0
    dist_y: 985.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2871, 3813, 3746, 4240],
                                'buyer_address': [488, 2098, 1364, 2516],
                                'buyer_gstin': [708, 2521, 1258, 2595],
                                'buyer_name': [494, 2010, 1480, 2096],
                                'invoice_amount': [3454, 3620, 3859, 3724],
                                'invoice_date': [2721, 1497, 3048, 1570],
                                'invoice_number': [2725, 1410, 3062, 1483],
                                'supplier_address': [493, 1488, 1504, 1657],
                                'supplier_name': [494, 1401, 1166, 1476]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_gstin': '33AAACL9861H1ZD',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_amount': '262',
                                 'invoice_date': '31.05.2020',
                                 'invoice_number': 'NE-06-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Complex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1919, 5337, 2822, 5439],
                            'supplier_phone': [1159, 5338, 1601, 5427],
                            'total_taxable': [3454, 3620, 3859, 3724]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034',
                             'total_taxable': '262'}}
INFO:     13.234.183.138:47562 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48224 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.85it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:48224 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48680 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.17it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'bank_details': [1633, 4373, 2014, 4444],
                                'buyer_address': [663, 1761, 1422, 1831],
                                'buyer_name': [1153, 1603, 1886, 1683],
                                'invoice_date': [3393, 1687, 3684, 1767],
                                'invoice_number': [3393, 1604, 3561, 1683],
                                'pan_number': [1584, 4557, 1990, 4627],
                                'supplier_address': [2208, 651, 3473, 731],
                                'supplier_email': [2450, 742, 3111, 824],
                                'supplier_name': [2213, 554, 3355, 631]},
                       'words': {'bank_details': 'DFCO0001794',
                                 'buyer_address': 'CAC1 and CAC2 Warehouses',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_date': '31/1/2020',
                                 'invoice_number': '74/19',
                                 'pan_number': 'AAGCD5746F',
                                 'supplier_address': 'Sharada Residency, ist Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtltd@gmail.com',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2450, 742, 3111, 824],
                            'supplier_phone': [2209, 838, 2976, 906],
                            'total_cgst': [3043, 2903, 3258, 2975],
                            'total_igst': [3459, 2904, 3707, 2976],
                            'total_taxable': [3045, 2716, 3708, 2976]},
                   'words': {'supplier_email': 'dristhipvtltd@gmail.com',
                             'supplier_phone': 'Contact No:+91-7044514369',
                             'total_cgst': '450.00',
                             'total_igst': '5900.00',
                             'total_taxable': '540.00 7080.00 450.00 5900.00'}}
INFO:     13.234.183.138:48680 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:50310 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.37it/s]100%|██████████| 1/1 [00:00<00:00,  3.37it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]100%|██████████| 1/1 [00:00<00:00,  3.38it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:50310 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:50576 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]100%|██████████| 1/1 [00:00<00:00,  3.36it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:50576 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:54362 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 225.0
    dist_y: 985.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2871, 3813, 3746, 4240],
                                'buyer_address': [488, 2098, 1364, 2516],
                                'buyer_gstin': [708, 2521, 1258, 2595],
                                'buyer_name': [494, 2010, 1480, 2096],
                                'invoice_amount': [3454, 3620, 3859, 3724],
                                'invoice_date': [2721, 1497, 3048, 1570],
                                'invoice_number': [2725, 1410, 3062, 1483],
                                'supplier_address': [493, 1488, 1504, 1657],
                                'supplier_name': [494, 1401, 1166, 1476]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_gstin': '33AAACL9861H1ZD',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_amount': '262',
                                 'invoice_date': '31.05.2020',
                                 'invoice_number': 'NE-06-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Complex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1919, 5337, 2822, 5439],
                            'supplier_phone': [1159, 5338, 1601, 5427],
                            'total_taxable': [3454, 3620, 3859, 3724]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034',
                             'total_taxable': '262'}}
INFO:     13.234.183.138:54362 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:54498 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.12it/s]100%|██████████| 1/1 [00:00<00:00,  3.12it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:54498 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56536 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.44it/s]100%|██████████| 1/1 [00:00<00:00,  3.43it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.42it/s]100%|██████████| 1/1 [00:00<00:00,  3.42it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| pred_out_all_old: {'bbox': {'buyer_address': [671, 1769, 1139, 1842],
                                'buyer_name': [1165, 1616, 1897, 1692],
                                'invoice_date': [3403, 1722, 3694, 1801],
                                'invoice_number': [3405, 1637, 3571, 1717],
                                'supplier_address': [2229, 672, 3493, 760],
                                'supplier_email': [2469, 767, 3130, 851],
                                'supplier_gstin': [2401, 1047, 3021, 1119],
                                'supplier_name': [2235, 570, 3376, 660]},
                       'words': {'buyer_address': 'CAC1 Warehouse',
                                 'buyer_name': 'Sports India Private Limited',
                                 'invoice_date': '31/1/2020',
                                 'invoice_number': '75/19',
                                 'supplier_address': 'Sharada Residency, 1st Crost,Bengaluru-560029',
                                 'supplier_email': 'dristhipvtitd@gmail.com',
                                 'supplier_gstin': 'No:29AAGCD5746F1ZG',
                                 'supplier_name': 'DRISTHI FACILITY PRIVATE LIMITED'}}
ic| pred_out_all: {'bbox': {'supplier_email': [2469, 767, 3130, 851],
                            'supplier_phone': [2449, 862, 2994, 933],
                            'total_cgst': [3057, 3171, 3236, 3242],
                            'total_sgst': [3043, 3025, 3256, 3099],
                            'total_taxable': [3473, 3175, 3685, 3247]},
                   'words': {'supplier_email': 'dristhipvtitd@gmail.com',
                             'supplier_phone': 'No:+91-7044514369',
                             'total_cgst': '45.00',
                             'total_sgst': '396.00',
                             'total_taxable': '590.00'}}
INFO:     13.234.183.138:56536 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56648 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]100%|██████████| 1/1 [00:00<00:00,  3.00it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:56648 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:57502 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 225.0
    dist_y: 985.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2871, 3813, 3746, 4240],
                                'buyer_address': [488, 2098, 1364, 2516],
                                'buyer_gstin': [708, 2521, 1258, 2595],
                                'buyer_name': [494, 2010, 1480, 2096],
                                'invoice_amount': [3454, 3620, 3859, 3724],
                                'invoice_date': [2721, 1497, 3048, 1570],
                                'invoice_number': [2725, 1410, 3062, 1483],
                                'supplier_address': [493, 1488, 1504, 1657],
                                'supplier_name': [494, 1401, 1166, 1476]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_gstin': '33AAACL9861H1ZD',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_amount': '262',
                                 'invoice_date': '31.05.2020',
                                 'invoice_number': 'NE-06-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Complex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1919, 5337, 2822, 5439],
                            'supplier_phone': [1159, 5338, 1601, 5427],
                            'total_taxable': [3454, 3620, 3859, 3724]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034',
                             'total_taxable': '262'}}
INFO:     13.234.183.138:57502 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:59726 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.29it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:59726 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:60732 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.80it/s]100%|██████████| 1/1 [00:00<00:00,  2.80it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 1738.5, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [639, 1753, 1644, 1821],
                                'buyer_name': [577, 1597, 1681, 1666],
                                'invoice_date': [2081, 1204, 2377, 1271],
                                'invoice_number': [3218, 1138, 3466, 1208],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'LUDHIANA HO LUDHIANA 141001',
                                 'buyer_name': 'DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '31.01.2020',
                                 'invoice_number': '03 - Punjab',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:60732 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:60898 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:60898 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:32858 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 1738.5, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [639, 1753, 1644, 1821],
                                'buyer_name': [577, 1597, 1681, 1666],
                                'invoice_date': [2081, 1204, 2377, 1271],
                                'invoice_number': [3218, 1138, 3466, 1208],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'LUDHIANA HO LUDHIANA 141001',
                                 'buyer_name': 'DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '31.01.2020',
                                 'invoice_number': '03 - Punjab',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:32858 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:33732 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.84it/s]100%|██████████| 1/1 [00:00<00:00,  2.84it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:33732 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7f4ea86549e0> returned a result with an error set
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3064]
INFO:     Started server process [7134]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
INFO:     Started server process [8651]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
INFO:     3.6.200.222:64814 - "GET / HTTP/1.1" 404 Not Found
INFO:     3.6.200.222:64814 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     13.234.183.138:41658 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  1.28it/s]100%|██████████| 1/1 [00:00<00:00,  1.28it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:41658 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42924 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date', flag: True, dist_x: 2307.0, dist_y: 959.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.98it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1655, 1950, 1892],
                                'buyer_name': [807, 1474, 1771, 1655],
                                'invoice_amount': [3435, 2565, 3750, 2631],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [784, 999, 1231, 1058],
                                'supplier_name': [970, 1069, 1513, 1126]},
                       'words': {'buyer_address': 'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': '-DECATHLON SPORTS INDIA PVT LTD :Satyabrata. das '
                                               'Decathlon SPORTS INDIA PVT LTD',
                                 'invoice_amount': '128,531.40',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': 'S9AABCW6386P1ZB',
                                 'supplier_name': 'BUSINESS SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2098, 1531, 3438, 1786]},
                   'words': {'shipping_address': 'Address -<Satyabrata. das Decathlon SPORTS '
                                                 'INDIA PVT LTD Survey Number- 78/10, A2, '
                                                 'Bellary R Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:42924 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:32934 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.78it/s]100%|██████████| 1/1 [00:00<00:00,  2.78it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:32934 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:33614 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.84it/s]100%|██████████| 1/1 [00:00<00:00,  2.83it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-supplier_address'
    flag: True
    dist_x: 15.5
    dist_y: 1017.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.97it/s]100%|██████████| 1/1 [00:00<00:00,  2.96it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [799, 1535, 1950, 1892],
                                'buyer_name': [808, 1474, 1771, 1530],
                                'invoice_date': [178, 99, 507, 169],
                                'supplier_address': [753, 1127, 1730, 1251],
                                'supplier_gstin': [736, 999, 1231, 1061],
                                'supplier_name': [1252, 1069, 1513, 1126]},
                       'words': {'buyer_address': ':Satyabrata. das  Decathlon SPORTS INDIA PVT LTD  '
                                                  'Survey Number- 78/10, A2, Bellary R Chikkajala '
                                                  'Village, Chikkajala, Ben  : KARNATAKA State Code '
                                                  ':29',
                                 'buyer_name': ':-DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '26/08/2021',
                                 'supplier_address': 'MAPLE CREST, 7 BENSON ROAD, BENSON TOWN, '
                                                     'BANGALORE - 560046',
                                 'supplier_gstin': ':2 9AABCW6386P1ZB',
                                 'supplier_name': 'SERVICES'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2434, 1722, 3438, 1786]},
                   'words': {'shipping_address': 'Chikkajala Village, Chikkajala, Ben'}}
INFO:     13.234.183.138:33614 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:33974 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:33974 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:39250 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.20it/s]100%|██████████| 1/1 [00:00<00:00,  3.19it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.31it/s]100%|██████████| 1/1 [00:00<00:00,  3.30it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:39250 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:39788 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.16it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:39788 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:40712 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.41it/s]100%|██████████| 1/1 [00:00<00:00,  3.41it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.39it/s]100%|██████████| 1/1 [00:00<00:00,  3.39it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:40712 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:41750 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.76it/s]100%|██████████| 1/1 [00:00<00:00,  2.76it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.82it/s]100%|██████████| 1/1 [00:00<00:00,  2.82it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:41750 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:49022 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]100%|██████████| 1/1 [00:00<00:00,  3.28it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:49022 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:49110 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.24it/s]100%|██████████| 1/1 [00:00<00:00,  3.23it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:49110 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51938 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51938 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:59302 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.85it/s]100%|██████████| 1/1 [00:00<00:00,  2.85it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:59302 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:33478 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:33478 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85b3b580> returned a result with an error set
INFO:     13.234.183.138:50568 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:50568 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51114 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51114 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51420 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
ic| label: 'S-bank_details', flag: True, dist_x: 524.0, dist_y: 176.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]100%|██████████| 1/1 [00:00<00:00,  3.49it/s]
ic| image.size: (4250, 5500)
ic| thr_X: 510.0, thr_Y: 660.0
INFO:     13.234.183.138:51420 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85a4c300> returned a result with an error set
INFO:     13.234.183.138:51830 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.21it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:51830 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:52010 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:52010 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85b398f0> returned a result with an error set
INFO:     13.234.183.138:52554 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.11it/s]100%|██████████| 1/1 [00:00<00:00,  3.11it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.27it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:52554 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:52816 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:52816 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:53266 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:53266 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:53620 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:53620 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85a5cf80> returned a result with an error set
INFO:     13.234.183.138:53894 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.75it/s]100%|██████████| 1/1 [00:00<00:00,  2.74it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:53894 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85bdedf0> returned a result with an error set
INFO:     13.234.183.138:54342 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]100%|██████████| 1/1 [00:00<00:00,  3.22it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:54342 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:55176 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:55176 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56374 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.73it/s]100%|██████████| 1/1 [00:00<00:00,  2.73it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:56374 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85bdea80> returned a result with an error set
INFO:     13.234.183.138:36364 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.76it/s]100%|██████████| 1/1 [00:00<00:00,  2.76it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.63it/s]100%|██████████| 1/1 [00:00<00:00,  2.63it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:36364 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85b5c260> returned a result with an error set
INFO:     13.234.183.138:36900 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:36900 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85b4c8f0> returned a result with an error set
INFO:     13.234.183.138:37522 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]100%|██████████| 1/1 [00:00<00:00,  2.88it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:37522 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:42966 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.78it/s]100%|██████████| 1/1 [00:00<00:00,  2.77it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:42966 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48110 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:48110 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:48986 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:48986 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:49984 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.95it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:49984 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:58936 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.95it/s]100%|██████████| 1/1 [00:00<00:00,  2.95it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:58936 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:59820 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:59820 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:35988 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:35988 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:37084 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [338, 1344, 1443, 1652],
                                'buyer_gstin': [539, 1740, 1080, 1810],
                                'buyer_name': [342, 1265, 1389, 1347],
                                'invoice_date': [224, 759, 710, 841],
                                'supplier_address': [2647, 435, 3840, 675],
                                'supplier_name': [2692, 347, 3689, 423],
                                'total_sgst': [3500, 3762, 3841, 3848]},
                       'words': {'buyer_address': 'Survey # 78/10, A-2-0 Chikkajala Village A2 '
                                                  'Bellary Road  Bengaluru, Karnataka, 562157  India',
                                 'buyer_gstin': '29AAACL9861H1Z2',
                                 'buyer_name': 'Decathlon Sports India Private Limited',
                                 'invoice_date': '2/6/2020 12:55',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES',
                                 'total_sgst': '<7,545.75'}}
ic| pred_out_all: {'bbox': {'supplier_email': [3225, 672, 3836, 754],
                            'supplier_phone': [3452, 752, 3837, 821],
                            'total_taxable': [3500, 3762, 3841, 3848]},
                   'words': {'supplier_email': 'orders@happyearth.in',
                             'supplier_phone': '08041642779',
                             'total_taxable': '<7,545.75'}}
INFO:     13.234.183.138:37084 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:37470 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:37470 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85a4c170> returned a result with an error set
INFO:     13.234.183.138:37902 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]100%|██████████| 1/1 [00:00<00:00,  2.81it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 5.5
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1885.5
    dist_y: 1104.0
ic| label: 'S-invoice_number', flag: True, dist_x: 682.0, dist_y: 0.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [340, 1753, 1993, 1903],
                                'buyer_name': [577, 1597, 1806, 1666],
                                'invoice_date': [2079, 1204, 2377, 1272],
                                'invoice_number': [639, 1204, 1023, 1272],
                                'supplier_address': [1778, 600, 2466, 744],
                                'supplier_name': [1688, 514, 2532, 583]},
                       'words': {'buyer_address': 'Address: CHANDIGARH AMBALA HIGHWAY ZIRAKPUR '
                                                  'MOHALI PUNJAB 140603',
                                 'buyer_name': 'M/S DECATHLON SPORTS INDIA PVT LTD',
                                 'invoice_date': '07.02.2020',
                                 'invoice_number': '123120002369',
                                 'supplier_address': 'PLOT NO.2075-76 AMBALA Haryana India 134007',
                                 'supplier_name': 'EUREKA FORBES LIMITED'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:37902 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:39418 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]100%|██████████| 1/1 [00:00<00:00,  3.34it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]100%|██████████| 1/1 [00:00<00:00,  3.33it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| label: 'S-supplier_phone'
    flag: True
    dist_x: 2153.0
    dist_y: 77.5
ic| pred_out_all_old: {'bbox': {'bank_details': [2862, 4047, 3738, 4474],
                                'buyer_address': [477, 2171, 1353, 2589],
                                'buyer_name': [484, 2082, 1471, 2169],
                                'invoice_date': [2674, 1568, 3038, 1642],
                                'invoice_number': [2714, 1482, 3052, 1556],
                                'supplier_address': [483, 1561, 1494, 1729],
                                'supplier_name': [484, 1474, 1155, 1548]},
                       'words': {'bank_details': 'Company Bank Details :  Bank Name :AXIS Bank '
                                                 'Limited Account No: 916020023261893 IFSC Code : '
                                                 'UTIB0002325 Branch : Gandhipuram branch.',
                                 'buyer_address': 'Decathion Teynampet  Ramee mall,No:365,Anna '
                                                  'Salai, poes road,Subbarayan Nagar, Teynampet  '
                                                  'Chennai— 600018',
                                 'buyer_name': 'Decathion Sports India Pvt Ltd.',
                                 'invoice_date': ': 12.06.2020',
                                 'invoice_number': 'NE-09-2020',
                                 'supplier_address': '51/39A ,2 nd Floor,M.R. Compiex D.B.Road '
                                                     ',R.S.Puram,Coimbatore-02',
                                 'supplier_name': 'NEE VI ELECTRICALS'}}
ic| pred_out_all: {'bbox': {'supplier_email': [1918, 5339, 2822, 5442],
                            'supplier_phone': [1159, 5340, 1601, 5429]},
                   'words': {'supplier_email': 'neevielectricals@gmail.com',
                             'supplier_phone': '90474 23034'}}
INFO:     13.234.183.138:39418 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:47870 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.79it/s]100%|██████████| 1/1 [00:00<00:00,  2.79it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]100%|██████████| 1/1 [00:00<00:00,  2.87it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:47870 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85a408a0> returned a result with an error set
INFO:     13.234.183.138:48224 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]100%|██████████| 1/1 [00:00<00:00,  2.86it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.78it/s]100%|██████████| 1/1 [00:00<00:00,  2.78it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:48224 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:49242 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.95it/s]100%|██████████| 1/1 [00:00<00:00,  2.95it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:49242 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:50568 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.84it/s]100%|██████████| 1/1 [00:00<00:00,  2.84it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:50568 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:51746 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:51746 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:54222 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.96it/s]100%|██████████| 1/1 [00:00<00:00,  2.96it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.93it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:54222 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:54904 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 1886.5
    dist_y: 1103.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
INFO:     13.234.183.138:54904 - "POST /extractInfo/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/protocols/http/h11_impl.py", line 369, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/uvicorn/middleware/proxy_headers.py", line 59, in __call__
    return await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 580, in __call__
    await route.handle(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 241, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/starlette/routing.py", line 52, in app
    response = await func(request)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 220, in app
    dependant=dependant, values=values, is_coroutine=is_coroutine
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/fastapi/routing.py", line 152, in run_endpoint_function
    return await dependant.call(**values)
  File "app.py", line 69, in extract_info
    model=trained_model_all, id2label=id2label_all, tokenizer=tokenizer)
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 351, in predict_fn
    out = out.loc[out['bbox'].isin(keep_bboxes)]
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/series.py", line 4662, in isin
    result = algorithms.isin(self._values, values)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/algorithms.py", line 493, in isin
    return f(comps, values)
  File "pandas/_libs/hashtable_func_helper.pxi", line 1066, in pandas._libs.hashtable.ismember_object
SystemError: <built-in method view of numpy.ndarray object at 0x7fde85a46620> returned a result with an error set
INFO:     13.234.183.138:56036 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:56036 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56072 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.68it/s]100%|██████████| 1/1 [00:00<00:00,  2.68it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.72it/s]100%|██████████| 1/1 [00:00<00:00,  2.72it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:56072 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:56282 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.92it/s]100%|██████████| 1/1 [00:00<00:00,  2.91it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]100%|██████████| 1/1 [00:00<00:00,  2.94it/s]
ic| image.size: (4132, 5848)
ic| thr_X: 495.84, thr_Y: 701.76
ic| pred_out_all_old: {'bbox': {'buyer_address': [288, 1761, 1358, 2364],
                                'buyer_name': [290, 1654, 924, 2142],
                                'invoice_date': [2368, 1654, 2596, 1712],
                                'pan_number': [2878, 1653, 3176, 1711],
                                'supplier_address': [288, 1373, 921, 1554],
                                'supplier_name': [288, 1335, 667, 1384]},
                       'words': {'buyer_address': 'Block C, sector 10 Near Rithala Metro Station, '
                                                  'Rohini DELHI DELHI  State Name & Code DELHI , 07  '
                                                  'GSTIN/UIN O7AAACL9861H1Z8  Customer Name and '
                                                  'Installation Address Decathlon Sports India Pvt. '
                                                  'Ltd.  The Metro Walk, first floor  Block C, '
                                                  'sector 10 Near Rithala Metro Station, Rohini '
                                                  'DELHI, DELHI- 110085  State Name & Code DELHI, 07',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd. The Metro Walk, '
                                               'first floor Block C, sector 10 Near Rithala DELHI '
                                               'DELHI  State Name & Code DELHI , 07 GSTIN/UIN '
                                               'O7AAACL9861H1ZE Customer Name and Installati '
                                               'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '08-JAN-20',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:56282 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:57108 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.89it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| label: 'S-invoice_date'
    flag: True
    dist_x: 2168.5
    dist_y: 1015.0
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]100%|██████████| 1/1 [00:00<00:00,  2.90it/s]
ic| image.size: (4132, 5847)
ic| thr_X: 495.84, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [418, 1172, 1418, 1388],
                                'buyer_gstin': [642, 1382, 1043, 1438],
                                'buyer_name': [419, 1120, 1024, 1185],
                                'invoice_date': [2400, 1121, 2622, 1177],
                                'invoice_number': [2031, 99, 2464, 165],
                                'pan_number': [2883, 1120, 3168, 1177],
                                'supplier_address': [417, 853, 1020, 1027],
                                'supplier_name': [417, 817, 779, 865]},
                       'words': {'buyer_address': 'Decathlon Sports India Pvt Ltd  Survey No.18/2 '
                                                  'situated at olavanna Patheerankavu KOZHIKODE '
                                                  'KERALA  State Name & Code KERALA , 32',
                                 'buyer_gstin': '32AAACL9861H1ZF',
                                 'buyer_name': 'Decathlon Sports India Pvt. Ltd.',
                                 'invoice_date': '13-APR-20',
                                 'invoice_number': '200890000471',
                                 'pan_number': 'AAACC4175D',
                                 'supplier_address': '7TH Floor Tower B, Building No-5  DLF Cyber '
                                                     'Terrace , DLF Phase -3 Gurgaon-122002, Haryana '
                                                     '14  State Name & Code HARYANA,',
                                 'supplier_name': 'CANON INDIA PVT LTD'}}
ic| pred_out_all: {'bbox': {}, 'words': {}}
Traceback (most recent call last):
  File "/home/ubuntu/invoice_inference_api/app/dataset_creator.py", line 362, in predict_fn
    label_grps.loc[:, 'words'] = label_grps['words'].str.replace(
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/generic.py", line 5458, in __getattr__
    return object.__getattribute__(self, name)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/accessor.py", line 180, in __get__
    accessor_obj = self._accessor(obj)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 154, in __init__
    self._inferred_dtype = self._validate(data)
  File "/home/ubuntu/anaconda3/envs/pytorch_latest_p37/lib/python3.7/site-packages/pandas/core/strings/accessor.py", line 217, in _validate
    raise AttributeError("Can only use .str accessor with string values!")
AttributeError: Can only use .str accessor with string values!

INFO:     13.234.183.138:57108 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     13.234.183.138:58816 - "POST /extractInfo HTTP/1.1" 307 Temporary Redirect
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.15it/s]100%|██████████| 1/1 [00:00<00:00,  3.14it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| label: 'S-buyer_address', flag: True, dist_x: 652.0, dist_y: 0.5
  0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]100%|██████████| 1/1 [00:00<00:00,  3.26it/s]
ic| image.size: (4134, 5847)
ic| thr_X: 496.08, thr_Y: 701.64
ic| pred_out_all_old: {'bbox': {'buyer_address': [251, 1260, 1562, 1749],
                                'buyer_gstin': [461, 1844, 1028, 1916],
                                'buyer_name': [251, 1177, 729, 1250],
                                'invoice_amount': [3575, 3981, 3937, 4067],
                                'invoice_date': [128, 644, 753, 729],
                                'supplier_address': [2679, 302, 3935, 554],
                                'supplier_name': [2726, 210, 3933, 289]},
                       'words': {'buyer_address': 'Decathlon Azara  Dakhin Rani, Vill-Kahikuchi '
                                                  'Azara Circle,Assam No.656,Pattan No.140  Near '
                                                  'Rani Gate  Guwahati, Assam, 781017  India',
                                 'buyer_gstin': '18AAACL9861H1Z5',
                                 'buyer_name': 'Decathlon Azara',
                                 'invoice_amount': '77,419.11',
                                 'invoice_date': '1/16/2020 3:24 PM',
                                 'supplier_address': 'Address: 3/8 Ground Floor, Opp. MG Infant '
                                                     'School, Kodichikkanahalli Road, Bilekahalli, '
                                                     'Bangalore 560076',
                                 'supplier_name': 'HAPPY EARTH ENTERPRISES LLP'}}
ic| pred_out_all: {'bbox': {'shipping_address': [2207, 1260, 2686, 1333],
                            'supplier_email': [3288, 552, 3931, 637]},
                   'words': {'shipping_address': 'Decathlon Azara',
                             'supplier_email': 'orders@happyearth.in'}}
INFO:     13.234.183.138:58816 - "POST /extractInfo/ HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [8651]
